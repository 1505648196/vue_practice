{"remainingRequest":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/babel-loader/lib/index.js!/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/eslint-loader/index.js??ref--13-0!/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/src/mixins/emitter.js","dependencies":[{"path":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/src/mixins/emitter.js","mtime":1596784665973},{"path":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CgpmdW5jdGlvbiBfYnJvYWRjYXN0KGNvbXBvbmVudE5hbWUsIGV2ZW50TmFtZSwgcGFyYW1zKSB7CiAgdGhpcy4kY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsKICAgIHZhciBuYW1lID0gY2hpbGQuJG9wdGlvbnMuY29tcG9uZW50TmFtZTsKCiAgICBpZiAobmFtZSA9PT0gY29tcG9uZW50TmFtZSkgewogICAgICBjaGlsZC4kZW1pdC5hcHBseShjaGlsZCwgW2V2ZW50TmFtZV0uY29uY2F0KHBhcmFtcykpOwogICAgfSBlbHNlIHsKICAgICAgX2Jyb2FkY2FzdC5hcHBseShjaGlsZCwgW2NvbXBvbmVudE5hbWUsIGV2ZW50TmFtZV0uY29uY2F0KHBhcmFtcykpOwogICAgfQogIH0pOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbWV0aG9kczogewogICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGNvbXBvbmVudE5hbWUsIGV2ZW50TmFtZSwgcGFyYW1zKSB7CiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLiRwYXJlbnQ7CiAgICAgIHZhciBuYW1lID0gcGFyZW50LiRvcHRpb25zLmNvbXBvbmVudE5hbWU7IC8v5ou/5Yiw6ICB54i555qE57uE5Lu25ZCN56ewCiAgICAgIC8vc3ktbG9nCgogICAgICBjb25zb2xlLmxvZyhwYXJlbnQgJiYgKCFuYW1lIHx8IG5hbWUgIT09IGNvbXBvbmVudE5hbWUpKTsgLy9zeS1sb2cKCiAgICAgIHdoaWxlIChwYXJlbnQgJiYgKCFuYW1lIHx8IG5hbWUgIT09IGNvbXBvbmVudE5hbWUpKSB7CiAgICAgICAgLy/mib7niLkg5LiN5YGc55qE5om+54i577yM55u05Yiw5om+5a6M54i55Li65q2iCiAgICAgICAgcGFyZW50ID0gcGFyZW50LiRwYXJlbnQ7CgogICAgICAgIGlmIChwYXJlbnQpIHsKICAgICAgICAgIG5hbWUgPSBwYXJlbnQuJG9wdGlvbnMuY29tcG9uZW50TmFtZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChwYXJlbnQpIHsKICAgICAgICAvLyog56ys5LiA56eN5YaZ5rOVCiAgICAgICAgLy8gcGFyZW50LiRlbWl0KGV2ZW50TmFtZSxldmVudE5hbWUpOwogICAgICAgIC8vKiDnrKzkuoznp43lhpnms5UKICAgICAgICAvLz8g6L+Z6YeM5Li65LuA5LmI55SoYXBwbHkg6ICM5LiN5piv55So56ys5LiA56eN77yfCiAgICAgICAgLy8hIGFwcGx55ZCO5YaN5oqK5ZCO6Z2i55qE5pWw57uE5Y+C5pWw6L+U5Zue77yM5bCx5Y+v5Lul5Lyg5YWl5pWw57uE5Y+C5pWwCiAgICAgICAgcGFyZW50LiRlbWl0LmFwcGx5KHBhcmVudCwgW2V2ZW50TmFtZV0uY29uY2F0KHBhcmFtcykpOwogICAgICAgIGNvbnNvbGUubG9nKFtldmVudE5hbWVdLmNvbmNhdChwYXJhbXMpKTsgLy9zeS1sb2cKICAgICAgICAvL3RvZG8g55yL55yL6L+Z5LiqIEVTNuS7o+abv+S4iumdomNvbmNhdOS5n+WPr+S7pei/meagt+WGmSBbZXZlbnROYW1lLC4uLnBhcmFtc10KICAgICAgfQogICAgfSwKICAgIGJyb2FkY2FzdDogZnVuY3Rpb24gYnJvYWRjYXN0KGNvbXBvbmVudE5hbWUsIGV2ZW50TmFtZSwgcGFyYW1zKSB7CiAgICAgIF9icm9hZGNhc3QuY2FsbCh0aGlzLCBjb21wb25lbnROYW1lLCBldmVudE5hbWUsIHBhcmFtcyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/src/mixins/emitter.js"],"names":["broadcast","componentName","eventName","params","$children","forEach","child","name","$options","$emit","apply","concat","methods","dispatch","parent","$parent","console","log","call"],"mappings":";;;AACA,SAASA,UAAT,CAAmBC,aAAnB,EAAkCC,SAAlC,EAA6CC,MAA7C,EAAqD;AACnD,OAAKC,SAAL,CAAeC,OAAf,CAAuB,UAAAC,KAAK,EAAI;AAC9B,QAAIC,IAAI,GAAGD,KAAK,CAACE,QAAN,CAAeP,aAA1B;;AAEA,QAAIM,IAAI,KAAKN,aAAb,EAA4B;AAC1BK,MAAAA,KAAK,CAACG,KAAN,CAAYC,KAAZ,CAAkBJ,KAAlB,EAAyB,CAACJ,SAAD,EAAYS,MAAZ,CAAmBR,MAAnB,CAAzB;AACD,KAFD,MAEO;AACLH,MAAAA,UAAS,CAACU,KAAV,CAAgBJ,KAAhB,EAAuB,CAACL,aAAD,EAAgBC,SAAhB,EAA2BS,MAA3B,CAAkCR,MAAlC,CAAvB;AACD;AACF,GARD;AASD;;AACD,eAAe;AACbS,EAAAA,OAAO,EAAE;AACPC,IAAAA,QADO,oBACEZ,aADF,EACiBC,SADjB,EAC4BC,MAD5B,EACoC;AACzC,UAAIW,MAAM,GAAG,KAAKC,OAAlB;AACA,UAAIR,IAAI,GAAGO,MAAM,CAACN,QAAP,CAAgBP,aAA3B,CAFyC,CAEC;AAE3C;;AACAe,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,KAAK,CAACP,IAAD,IAASA,IAAI,KAAKN,aAAvB,CAAlB,EAL0C,CAKgB;;AACzD,aAAOa,MAAM,KAAK,CAACP,IAAD,IAASA,IAAI,KAAKN,aAAvB,CAAb,EAAoD;AAElD;AACAa,QAAAA,MAAM,GAAGA,MAAM,CAACC,OAAhB;;AAEA,YAAID,MAAJ,EAAY;AACVP,UAAAA,IAAI,GAAGO,MAAM,CAACN,QAAP,CAAgBP,aAAvB;AACD;AAEF;;AACD,UAAIa,MAAJ,EAAY;AAEV;AACA;AAEA;AACA;AACA;AAEAA,QAAAA,MAAM,CAACL,KAAP,CAAaC,KAAb,CAAmBI,MAAnB,EAA2B,CAACZ,SAAD,EAAYS,MAAZ,CAAmBR,MAAnB,CAA3B;AACAa,QAAAA,OAAO,CAACC,GAAR,CAAY,CAACf,SAAD,EAAYS,MAAZ,CAAmBR,MAAnB,CAAZ,EAVU,CAU+B;AACzC;AAED;AACF,KA/BM;AAgCPH,IAAAA,SAhCO,qBAgCGC,aAhCH,EAgCkBC,SAhClB,EAgC6BC,MAhC7B,EAgCqC;AAC1CH,MAAAA,UAAS,CAACkB,IAAV,CAAe,IAAf,EAAqBjB,aAArB,EAAoCC,SAApC,EAA+CC,MAA/C;AACD;AAlCM;AADI,CAAf","sourcesContent":["\nfunction broadcast(componentName, eventName, params) {\n  this.$children.forEach(child => {\n    var name = child.$options.componentName;\n\n    if (name === componentName) {\n      child.$emit.apply(child, [eventName].concat(params));\n    } else {\n      broadcast.apply(child, [componentName, eventName].concat(params));\n    }\n  });\n}\nexport default {\n  methods: {\n    dispatch(componentName, eventName, params) {\n      var parent = this.$parent;\n      var name = parent.$options.componentName; //拿到老爹的组件名称\n    \n     //sy-log\n     console.log(parent && (!name || name !== componentName)); //sy-log\n      while (parent && (!name || name !== componentName)) {\n    \n        //找爹 不停的找爹，直到找完爹为止\n        parent = parent.$parent;\n\n        if (parent) {\n          name = parent.$options.componentName;\n        }\n\n      }\n      if (parent) {\n        \n        //* 第一种写法\n        // parent.$emit(eventName,eventName);\n\n        //* 第二种写法\n        //? 这里为什么用apply 而不是用第一种？\n        //! apply后再把后面的数组参数返回，就可以传入数组参数\n\n        parent.$emit.apply(parent, [eventName].concat(params));\n        console.log([eventName].concat(params)); //sy-log\n        //todo 看看这个 ES6代替上面concat也可以这样写 [eventName,...params]\n      \n      }\n    },\n    broadcast(componentName, eventName, params) {\n      broadcast.call(this, componentName, eventName, params);\n    }\n  }\n};\n"]}]}