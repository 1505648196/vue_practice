{"remainingRequest":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/babel-loader/lib/index.js!/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/src/components/form/KForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/src/components/form/KForm.vue","mtime":1596610663910},{"path":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luozien/Desktop/vue全栈架构师/01/vue-study-web18/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLyDmiJHku6zlubPml7blhpnnmoTnu4Tku7bmmK/kuIDkuKrnu4Tku7bphY3nva7lr7nosaEKZXhwb3J0IGRlZmF1bHQgewogIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDnm7TmjqXmiorlvZPliY3nu4Tku7blrp7kvovkvKDpgJLkuIvljrsKICAgICAgLy8g5Lyg6YCS5LiL5Y6755qE5a+56LGh5piv5ZON5bqU5byP55qE5YiZ6L+Y5Y+v5Lul5ZON5bqU5byPCiAgICAgIGZvcm06IHRoaXMKICAgIH07CiAgfSwKICBwcm9wczogewogICAgLy8g5pWw5o2u5qih5Z6LCiAgICBtb2RlbDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgcnVsZXM6IE9iamVjdAogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGNiKSB7CiAgICAgIC8vIOmBjeWOhuiCmuWtkOmHjOmdoueahOaJgOaciUZvcm1JdGVt77yM5omn6KGM5LuW5Lus55qEdmFsaWRhdGXmlrnms5UKICAgICAgLy8g5YWo6YOo6YCa6L+H5omN566X6YCa6L+HCiAgICAgIC8vIHRhc2tz5piv5qCh6aqM57uT5p6c55qEUHJvbWlzZee7hOaIkOeahOaVsOe7hAogICAgICB2YXIgdGFza3MgPSB0aGlzLiRjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wcm9wOwogICAgICB9KSAvL+i/h+a7pHByb3DnmoTlsZ7mgKcKICAgICAgLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnZhbGlkYXRlKCk7CiAgICAgIH0pOyAvLyDnu5/kuIDliKTmlq0KCiAgICAgIFByb21pc2UuYWxsKHRhc2tzKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gY2IodHJ1ZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gY2IoZmFsc2UpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["KForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;AASA;AACA,eAAA;AACA,EAAA,OADA,qBACA;AACA,WAAA;AACA;AACA;AACA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAFA;AAMA,IAAA,KAAA,EAAA;AANA,GARA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,EADA,EACA;AACA;AACA;AACA;AACA,UAAA,KAAA,GAAA,KAAA,SAAA,CACA,MADA,CACA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA;AAAA,OADA,EACA;AADA,OAEA,GAFA,CAEA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,QAAA,EAAA;AAAA,OAFA,CAAA,CAJA,CAOA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EACA,IADA,CACA;AAAA,eAAA,EAAA,CAAA,IAAA,CAAA;AAAA,OADA,EAEA,KAFA,CAEA;AAAA,eAAA,EAAA,CAAA,KAAA,CAAA;AAAA,OAFA;AAGA;AAZA;AAhBA,CAAA","sourcesContent":["<template>\n  <div>\n    <!-- 容器：存放所有表单项 -->\n    <!-- 存储值载体：保存大家数据和校验规则 -->\n    <slot></slot>\n  </div>\n</template>\n\n<script>\n// 我们平时写的组件是一个组件配置对象\nexport default {\n  provide() {\n    return {\n      // 直接把当前组件实例传递下去\n      // 传递下去的对象是响应式的则还可以响应式\n      form: this\n    };\n  },\n  props: {\n    // 数据模型\n    model: {\n      type: Object,\n      required: true\n    },\n    rules: Object\n  },\n  methods: {\n    validate(cb) {\n      // 遍历肚子里面的所有FormItem，执行他们的validate方法\n      // 全部通过才算通过\n      // tasks是校验结果的Promise组成的数组\n      const tasks = this.$children\n        .filter(item => item.prop) //过滤prop的属性\n        .map(item => item.validate());\n      // 统一判断\n      Promise.all(tasks)\n        .then(() => cb(true))\n        .catch(() => cb(false));\n    }\n  }\n};\n</script>\n\n<style scoped>\n</style>"],"sourceRoot":"src/components/form"}]}